<!-- <div class="page-header header-filter" style="background-image: url('assets/img/conPics/con28.jpg'); max-height: 50vh;">
  <div class="container">
      <div class="row">
          <div class="col-md-8 ml-auto mr-auto text-center">
              <h1 class="title">Your Dashboard</h1>
          </div>
      </div>
  </div>
</div> -->

<div class="background">

    <div style="height: 30vh;"></div>
    
    <div *ngIf="customer" class="main main-raised" style="margin-bottom: 0px;">
    <div class="container">
    
    
        <div style="height: 20px;"></div>

            <div class="pricing-1 section-image" style="background-image: url('../assets/img/conPics/con14.jpg')" id="pricing-1">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6 ml-auto mr-auto text-center">
                            <h2 class="title">Upgrade Your Plan</h2>
                            <h5 class="description">You have Free Unlimited Updates and Premium Support on each package.</h5>
                            <div class="section-space"></div>
                        </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-3 col-md-6">
                          <div class="card card-pricing card-plain">
                              <div class="card-body ">
                                  <h6 class="card-category">Residency</h6>
                                  <div class="icon">
                                      <i class="material-icons">account_balance</i>
                                  </div>
                                  <h3 class="card-title">$0</h3>
                                  <p class="card-description">
                                      This is good if your company size is 99+ persons.
                                  </p>
                                  <a href="#pablo" class="btn btn-white btn-round">Apply</a>
                              </div>
                          </div>
                      </div>
                        <div class="col-lg-3 col-md-6">
                            <div [ngClass]="{'card-plain': !socialPlan, 'card-raised': socialPlan}" class="card card-pricing">
                                <div class="card-body ">
                                    <h6 class="card-category">Social Artist</h6>
                                    <div class="icon">
                                        <i class="material-icons">weekend</i>
                                    </div>
                                    <h3 class="card-title">$50</h3>
                                    <p class="card-description">
                                        Members enjoy unlimited access to workshops, submissions to group shows, Sunday studio access, and oppotunity to network with 8-years.
                                    </p>
                                    <button *ngIf="!socialPlan" (click)="updatePlanUpgradeString('social')" data-toggle="modal" data-target="#upgradeModal" class="btn btn-rose btn-round">Upgrade</button>
                                    <button *ngIf="socialPlan" disabled="true" class="btn btn-rose btn-round">Currently Active</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <!-- <div class="card card-pricing card-raised"> -->
                              <div [ngClass]="{'card-plain': !emergingPlan, 'card-raised': emergingPlan}" class="card card-pricing">
                                <div class="card-body ">
                                    <h6 class="card-category">Emerging Artist</h6>
                                    <div class="icon icon-rose">
                                        <i class="material-icons">home</i>
                                    </div>
                                    <h3 class="card-title">$250</h3>
                                    <p class="card-description">
                                        Evenings & weekends (weekdays ater 7pm/weekends all day).
                                    </p>
                                    
                                    <button *ngIf="!emergingPlan" (click)="updatePlanUpgradeString('emerging')" data-toggle="modal" data-target="#upgradeModal" class="btn btn-rose btn-round">Upgrade</button>
                                    <button *ngIf="emergingPlan" disabled="true" class="btn btn-rose btn-round">Currently Active</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div [ngClass]="{'card-plain': !unlimitedPlan, 'card-raised': unlimitedPlan}" class="card card-pricing">
                                <div class="card-body ">
                                    <h6 class="card-category">Working Artists</h6>
                                    <div class="icon">
                                        <i class="material-icons">business</i>
                                    </div>
                                    <h3 class="card-title">$400</h3>
                                    <p class="card-description">
                                        Members enjoy unlimited 24 hour access to the Collective.
                                    </p>
                                    <button *ngIf="!unlimitedPlan" (click)="updatePlanUpgradeString('working')" data-toggle="modal" data-target="#upgradeModal" class="btn btn-rose btn-round">Upgrade</button>
                                    <button *ngIf="unlimitedPlan" disabled="true" class="btn btn-rose btn-round">Currently Active</button>
                                </div>
                            </div>
                        </div>
              
                    </div>
                </div>
              </div>

        <div class="container-fluid">
          <div class="row">
            <div *ngIf="card" class="col-md-8">
              <div class="card card-plain">
                  <h4 style="margin-left: 20px;" class="card-title">Your Payment Information
                      
                  </h4>
                <div class="card-body">
                  <form>
                    <div class="row">
                      <div class="col-md-5">
                        <div class="form-group">
                          <label class="bmd-label-floating">Card Number</label>
                          <br>
                          <label >**** **** **** {{card.last4}}</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label class="bmd-label-floating">Brand</label>
                          <br>
                          <label>{{card.brand}}</label>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label class="bmd-label-floating">Email</label>
                          <br>
                          <label>{{currentEmail}}</label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                              <label *ngIf="!isCancelled" class="bmd-label-floating">Renewal Date</label>
                              <label *ngIf="isCancelled" class="bmd-label-floating">Subscription Ends</label>
                              <br>
                              <label>{{periodEnd}}</label>
                            </div>
                          </div>
                      <!-- <div class="col-md-6">
                        <div class="form-group">
                          <label class="bmd-label-floating">Expiration Year</label>
                          <br>
                          <label>{{card.exp_year}}</label>
                        </div>
                      </div> -->
                      </div>
    
                      <div class="row">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label class="bmd-label-floating">Current Plan</label>
                            <br>
                            <label>{{currentPlan}}</label>
                          </div>
                        </div>
    
                        </div>
                        <div class="row">
                        <div class="col-md-4">
                            <button (click)="updateCardInfo()" mat-raised-button type="submit" class="btn btn-rose pull-right">Update Payment Info</button>
                        </div>
    
                        <div class="col-md-4">
                            <button *ngIf="!isCancelled" data-toggle="modal" data-target="#cancelModal" mat-raised-button type="submit" class="btn btn-danger pull-right">Cancel Subscription</button>
                        </div>
                          </div>
                    <div class="clearfix"></div>
                  </form>
                </div>
              </div>
            </div>
            <!-- <div class="col-md-4">
              <div class="card card-profile">
                <div class="card-avatar">
                  <a href="#pablo">
                    <img class="img" src="../../assets/img/faces/marc.jpg" />
                  </a>
                </div>
                <div class="card-body">
                  <h6 class="card-category text-gray">CEO / Co-Founder</h6>
                  <h4 class="card-title">Alec Thompson</h4>
                  <p class="card-description">
                    Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owensâ€™ bed design but the back is...
                  </p>
                  <a href="#pablo" class="btn btn-rose btn-round">Follow</a>
                </div>
              </div>
            </div> -->
            <div class="col-md-4" style="margin-top: 50px;">
              <button routerLink="/edit" type="submit" class="btn btn-primary pull-right">Edit Profile Info</button>
            </div>
    
          </div>
        </div>
    
    
        <!-- EDIT PROFILE INFO -->
        <!-- <h4 style="margin-left: 20px;" class="card-title">Edit Profile Info</h4>
        <form *ngIf="currentCustomer" (submit)="onSubmit()">
    
          <div class="form-group">
              <label>Full Name</label>
              <input type="text" [(ngModel)]="currentCustomer.fullName" class="form-control" placeholder="Add Name" name="title">
         </div>
                
          <div class="form-group">
              <label>Bio</label>
              <textarea type="text" [(ngModel)]="currentCustomer.bio" class="form-control" placeholder="Add bio" name="onView"></textarea>
          </div>
    
          <label>Profile Picture</label>
          <img *ngIf="currentCustomer.profileImageUrl" id="profile-pic" [src]="currentCustomer.profileImageUrl" alt="Circle Image" class="img-raised rounded-circle img-fluid">
          <img *ngIf="!currentCustomer.profileImageUrl" id="profile-pic" src="assets/img/kit/pro/placeholder.jpg" alt="Circle Image" class="img-raised rounded-circle img-fluid">
          <input type="file" accept=".jpg, .jpeg, .png" (change)="onChangeProfile($event)">
          <p class="help-block">Only png and jpg allowed</p>
    
          <br>
          <label><b> Artwork: </b></label>
    
    
          <div *ngFor="let artwork of artworks">
              <div class="form-group">
                  <label>Artwork {{artworks.length}}</label>
                  <input type="text" [(ngModel)]="artwork.title" class="form-control" placeholder="Title" name="artworkTitle">
                  <input type="text" [(ngModel)]="artwork.year" class="form-control" placeholder="Year" name="artworkYear">
                  <input type="text" [(ngModel)]="artwork.askingPrice" class="form-control" placeholder="Venue" name="artworkPrice">
              </div>
    
              <label>Upload File</label>
              <input type="file" accept=".jpg, .jpeg, .png" (change)="onChange($event)">
              <p class="help-block">Only png and jpg allowed</p>
          </div>
    
          <button (click)="addArtwork()" class="btn btn-fab btn-primary btn-round" type="button">
              <i class="material-icons">add</i>
          </button>
    
          <button (click)="testArtwork()" class="btn btn-primary btn-lg" type="button">
                  Test Log
          </button>
    
          <br>
          <label><b> Exhibition History: </b></label>
    
          <button (click)="addExhibition()" class="btn btn-fab btn-primary btn-round" type="button">
              <i class="material-icons">add</i>
          </button>
    
          <div *ngFor="let exhibition of exhibitionHistory">
                  <label>{{exhibition.title}}</label>
                  <label>{{exhibition.year}}</label>
                  <label>{{exhibition.venue}}</label>
                  <div class="togglebutton">
                      <label>
                          Group Show
                          <input [(ngModel)]="exhibition.isSolo" type="checkbox" checked="" name="isSolo">
                          <span class="toggle"></span>
                          Solo Show
                      </label>
                  </div>
          </div>
    
          <div *ngIf="showNewExhibitionForm" class="form-group card card-raised" style="padding: 50px;">
              <label>New Exhibition</label>
              <input type="text" [(ngModel)]="newExhibition.title" class="form-control" placeholder="Title" name="exhibitionTitle">
              <input type="text" [(ngModel)]="newExhibition.year" class="form-control" placeholder="Year" name="exhibitionYear">
              <input type="text" [(ngModel)]="newExhibition.venue" class="form-control" placeholder="Venue" name="exhibitionVenue">
              <div class="togglebutton">
                  <label>
                      Group Show
                      <input [(ngModel)]="newExhibition.isSolo" type="checkbox" checked="" name="isSolo">
                      <span class="toggle"></span>
                      Solo Show
                  </label>
              </div>
    
              <button (click)="saveExhibition()" class="btn btn-primary btn-lg" type="button">
                      Add Exhibition
              </button>
    
          </div>
    
          <button (click)="testExhibition()" class="btn btn-primary btn-lg" type="button">
                  Test Log
          </button>
          <br>
    
          <br> 
          <label><b> Social Links: </b></label>
          
          <div class="form-group">
              <label>Facebook</label>
              <input class="form-control" [(ngModel)]="facebookLink" placeholder="Add facebook link" name="facebookLink">
          </div>
    
          <div class="form-group">
              <label>Twitter</label>
              <input class="form-control" [(ngModel)]="twitterLink" placeholder="Add twitter link" name="twitterLink">
          </div>
    
          <div class="form-group">
              <label>Instagram</label>
              <input class="form-control" [(ngModel)]="instagramLink" placeholder="Add instagram link" name="instagramLink">
          </div>
    
          <div class="form-group">
              <input name="email" type="email" placeholder="Your Email..." [(ngModel)]="userEmail" class="form-control">
          </div>
          <button (click)="confirmProfileChanges()" class="btn btn-primary btn-lg" type="button">
              Confirm Changes
          </button>
          
      </form> -->
        <!-- END EDIT PROFILE INFO -->
    
    <!-- UPGRADE PRICING PLAN SECTION-->

    </div>
    <br>
    <br>
    </div>
</div>


<!-- Alert Modal -->
<div class="modal fade" id="alertModal" tabindex="-1" role="dialog" aria-labelledby="alertModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="alertModalLabel">{{alertText}}</h5>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>

<!-- UPGRADE SUBSCRIPTION MODAL -->
<div class="modal fade" id="upgradeModal" tabindex="-1" role="dialog" aria-labelledby="upgradeModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="upgradeModalLabel">{{planUpgradeString}}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>This will use your currently selected payment option, you will be charged the new amount at the beginning of the next pay period.</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button (click)="upgradePlan()" type="button" class="btn btn-primary" data-dismiss="modal">Accept</button>
            </div>
          </div>
        </div>
</div>
    
    <!-- CANCEL SUBSCRIPTION MODAL -->
    <div class="modal fade" id="cancelModal" tabindex="-1" role="dialog" aria-labelledby="cancelModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Are you sure you want to cancel your membership?</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>You subscription will not auto-renew on the next billing date. Your subscription will remain active until then.</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button (click)="cancelSub()" type="button" class="btn btn-danger" data-dismiss="modal">Yes Cancel My Membership</button>
            </div>
          </div>
        </div>
    </div>